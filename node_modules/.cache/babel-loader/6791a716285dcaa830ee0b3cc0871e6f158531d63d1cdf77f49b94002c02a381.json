{"ast":null,"code":"const url = 'https://timothynicolas.github.io/mini-project-2/javascript/library-api.js';\n\n//const url = 'http://127.0.0.1:5501/capstone_final/src/javascript/library-api.js';\n\n//const url = 'library-api.js';\n\nfetch(url).then(response => response.json()).then(result => {\n  console.log(result); //array\n\n  let a = [];\n  a = result;\n  let div_area = document.getElementById(\"book-list\");\n  let show = \"\";\n  a.forEach(function (item) {\n    show += `\n            <div class=\"book-container d-flex flex-column\">\n                <img class=\"book-thumbnail\" src=\"${item.image}\">\n                <p id=\"img${item.id}\" hidden>${item.image}</p>\n                <p id=\"p${item.id}\" hidden>${item.id}</p>\n                <p id=\"pri${item.id}\" hidden>${item.price}</p>\n                <p id=\"desc${item.id}\" class=\"my-3\" hidden>${item.bookdescription}</p>\n                <p id=\"prod${item.id}\" class=\"book-title mt-2\">${item.bookName}</p>\n                <button id=\"btn${item.id}\" class=\"btn btn-success btn-view green-btn\" data-bs-toggle=\"modal\" data-bs-target=#m${item.id}>View Product</button>\n            </div>\n        \n            <!-- Modal -->\n\n            <div class=\"modal fade\" id=\"m${item.id}\" tabindex=\"-1\" aria-labelledby=\"m${item.id}Label\" aria-hidden=\"true\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h1 class=\"modal-title fs-5 text-black\" id=\"m${item.id}Label\">${item.bookName}</h1>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body text-black\">\n\n                    <div class=\"row\">\n                        <div class=\"col-6\">\n                            <img class=\"book-thumbnail book-outline\" src=\"${item.image}\">\n                            <p id=\"p${item.id}\" hidden>${item.id}</p>\n\n                            <!-- <p id=\"prod${item.id}\" class=\"book-title mt-2\">${item.bookName}</p> -->\n\n                            <button id=\"btn${item.id}\" class=\"btn btn-primary btn-view green-btn\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">View Product</button>\n                        </div>\n\n                        <div class=\"col-6 d-flex flex-column justify-content-between\">\n                            <p id=\"desc${item.id}\" class=\"my-3\">${item.bookdescription}</p>\n                            <p class=\"text-black text-left h3\">&#8369; ${item.price}</p>\n                        </div>\n                    </div>\n\n                    \n                </div>\n                <div class=\"modal-footer\">\n                    \n                    <button type=\"button\" class=\"btn btn-success  green-btn\" data-bs-dismiss=\"modal\" onclick=\"addToCart(${item.id})\">Add to Cart</button>\n                </div>\n                </div>\n            </div>\n            </div>\n            \n            `;\n  });\n  div_area.innerHTML = show;\n});\nfunction addToCart(id) {\n  let array = localStorage.getItem(\"order\");\n  console.log(array);\n  if (array == null) {\n    let orderlist = [];\n    let new_id = document.getElementById(\"p\" + id).innerText;\n    let new_prod = document.getElementById(\"prod\" + id).innerText;\n    let new_price = document.getElementById(\"pri\" + id).innerText;\n    let new_desc = document.getElementById(\"desc\" + id).innerText;\n    let new_img = document.getElementById(\"img\" + id).innerText;\n    orderlist.push({\n      id: new_id,\n      product: new_prod,\n      price: new_price,\n      desc: new_desc,\n      image: new_img\n    });\n    localStorage.setItem(\"order\", JSON.stringify(orderlist));\n  } else {\n    let orderlist = JSON.parse(localStorage.getItem(\"order\"));\n    let new_id = document.getElementById(\"p\" + id).innerText;\n    let new_prod = document.getElementById(\"prod\" + id).innerText;\n    let new_price = document.getElementById(\"pri\" + id).innerText;\n    let new_desc = document.getElementById(\"desc\" + id).innerText;\n    let new_img = document.getElementById(\"img\" + id).innerText;\n    orderlist.push({\n      id: new_id,\n      product: new_prod,\n      price: new_price,\n      desc: new_desc,\n      image: new_img\n    });\n    localStorage.setItem(\"order\", JSON.stringify(orderlist));\n  }\n}","map":{"version":3,"names":["url","fetch","then","response","json","result","console","log","a","div_area","document","getElementById","show","forEach","item","image","id","price","bookdescription","bookName","innerHTML","addToCart","array","localStorage","getItem","orderlist","new_id","innerText","new_prod","new_price","new_desc","new_img","push","product","desc","setItem","JSON","stringify","parse"],"sources":["C:/Users/timot/Desktop/new_capstone/capstone_final/src/javascript/library.js"],"sourcesContent":["const url = 'https://timothynicolas.github.io/mini-project-2/javascript/library-api.js';\r\n\r\n//const url = 'http://127.0.0.1:5501/capstone_final/src/javascript/library-api.js';\r\n\r\n//const url = 'library-api.js';\r\n\r\n\r\n\r\n\r\nfetch(url)\r\n.then( response => response.json())\r\n.then( result => {\r\n    console.log(result) //array\r\n\r\n    let a = [];\r\n    a = result;\r\n\r\n    let div_area = document.getElementById(\"book-list\");\r\n\r\n    let show = \"\";\r\n\r\n    a.forEach(\r\n        function(item){\r\n            show += `\r\n            <div class=\"book-container d-flex flex-column\">\r\n                <img class=\"book-thumbnail\" src=\"${item.image}\">\r\n                <p id=\"img${item.id}\" hidden>${item.image}</p>\r\n                <p id=\"p${item.id}\" hidden>${item.id}</p>\r\n                <p id=\"pri${item.id}\" hidden>${item.price}</p>\r\n                <p id=\"desc${item.id}\" class=\"my-3\" hidden>${item.bookdescription}</p>\r\n                <p id=\"prod${item.id}\" class=\"book-title mt-2\">${item.bookName}</p>\r\n                <button id=\"btn${item.id}\" class=\"btn btn-success btn-view green-btn\" data-bs-toggle=\"modal\" data-bs-target=#m${item.id}>View Product</button>\r\n            </div>\r\n        \r\n            <!-- Modal -->\r\n\r\n            <div class=\"modal fade\" id=\"m${item.id}\" tabindex=\"-1\" aria-labelledby=\"m${item.id}Label\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h1 class=\"modal-title fs-5 text-black\" id=\"m${item.id}Label\">${item.bookName}</h1>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body text-black\">\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-6\">\r\n                            <img class=\"book-thumbnail book-outline\" src=\"${item.image}\">\r\n                            <p id=\"p${item.id}\" hidden>${item.id}</p>\r\n\r\n                            <!-- <p id=\"prod${item.id}\" class=\"book-title mt-2\">${item.bookName}</p> -->\r\n\r\n                            <button id=\"btn${item.id}\" class=\"btn btn-primary btn-view green-btn\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">View Product</button>\r\n                        </div>\r\n\r\n                        <div class=\"col-6 d-flex flex-column justify-content-between\">\r\n                            <p id=\"desc${item.id}\" class=\"my-3\">${item.bookdescription}</p>\r\n                            <p class=\"text-black text-left h3\">&#8369; ${item.price}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    \r\n                    <button type=\"button\" class=\"btn btn-success  green-btn\" data-bs-dismiss=\"modal\" onclick=\"addToCart(${item.id})\">Add to Cart</button>\r\n                </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            \r\n            `;\r\n        });\r\n        div_area.innerHTML = show;\r\n        \r\n});\r\n\r\nfunction addToCart(id){\r\n\r\n    let array = localStorage.getItem(\"order\");\r\n    console.log(array);\r\n\r\n    if(array == null){\r\n        let orderlist = [];\r\n\r\n        let new_id = document.getElementById(\"p\"+id).innerText;\r\n        let new_prod = document.getElementById(\"prod\"+id).innerText;\r\n        let new_price = document.getElementById(\"pri\"+id).innerText;\r\n        let new_desc =document.getElementById(\"desc\"+id).innerText;\r\n        let new_img =document.getElementById(\"img\"+id).innerText;\r\n\r\n\r\n        orderlist.push({id: new_id, product: new_prod, price: new_price, desc: new_desc, image: new_img});\r\n        localStorage.setItem(\"order\", JSON.stringify(orderlist));\r\n\r\n    }else{\r\n        let orderlist = JSON.parse(localStorage.getItem(\"order\"));\r\n\r\n        let new_id = document.getElementById(\"p\"+id).innerText;\r\n        let new_prod = document.getElementById(\"prod\"+id).innerText;\r\n        let new_price = document.getElementById(\"pri\"+id).innerText;\r\n        let new_desc =document.getElementById(\"desc\"+id).innerText;\r\n        let new_img =document.getElementById(\"img\"+id).innerText;\r\n\r\n        orderlist.push({id: new_id, product: new_prod, price: new_price, desc: new_desc, image: new_img});\r\n        localStorage.setItem(\"order\", JSON.stringify(orderlist));\r\n    }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}